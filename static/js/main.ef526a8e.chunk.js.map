{"version":3,"sources":["components/Dropdown.js","hooks/useOnOutsideClick.js","views/Root.js","components/Navigation.js","components/Article.js","views/News.js","App.js","reportWebVitals.js","index.js"],"names":["Dropdown","ref","handler","infectedByRegion","setRegion","useState","isDropdownExpanded","toggleDropdown","chosenRegion","setDropdownRegion","dropdownRef","useRef","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","className","onClick","xmlns","viewBox","d","map","el","index","region","Root","JSON","parse","sessionStorage","getItem","covidData","setCovidData","axios","get","then","data","console","log","setItem","stringify","catch","error","filter","dataForChosenRegion","lastUpdatedAtApify","substring","infected","infectedCount","deceased","deceasedCount","Navbar","fixed","React","navbarOpen","setNavbarOpen","to","type","icon","faBars","id","exact","activeClassName","Article","title","imageUrl","imageAlt","content","src","alt","News","articles","setArticles","fetch","method","headers","body","query","res","json","allArticles","err","length","image","url","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ef526a8e.chunk.js","sourcesContent":["import React, {useState,useRef} from 'react';\nimport {useOnClickOutside} from \"../hooks/useOnOutsideClick\";\n\nconst Dropdown = ({infectedByRegion,setRegion}) => {\n    const [isDropdownExpanded,toggleDropdown] = useState(false);\n    const [chosenRegion,setDropdownRegion] = useState(null);\n    const dropdownRef = useRef(null);\n    useOnClickOutside(dropdownRef, () => toggleDropdown(false));\n\n    return (\n        <div className=\"py-3 z-0\" ref={dropdownRef}>\n\n            <div className=\"dropdown inline-block relative  \">\n                <button  className=\"bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded inline-flex items-center\" onClick={()=>toggleDropdown(!isDropdownExpanded)}>\n                    <span className=\"mr-1\">{chosenRegion ? chosenRegion : 'Województwo'}</span>\n                    <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>\n                    </svg>\n                </button>\n                <ul className={` h-40 overflow-y-scroll dropdown-menu min-w-max absolute rounded text-gray-700 mt-1 ${isDropdownExpanded ? '' : 'hidden'}`}>\n                    {infectedByRegion.map((el,index)=>{\n                        if(index!==0){\n                            return <li key={el.region} className=\"\" onClick={()=>{setDropdownRegion(el.region);toggleDropdown(false);setRegion(el.region)}}><span\n                                className=\"bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap\"\n                            >{el.region}</span></li>\n                        }\n                        return null;\n                    })}\n                </ul>\n            </div>\n\n        </div>\n    );\n};\n\nexport default Dropdown;\n","\nimport  { useEffect } from 'react';\n\nexport const useOnClickOutside = (ref, handler) => {\n    useEffect(\n        () => {\n            const listener = (event) => {\n\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n\n                handler(event);\n            };\n\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        },\n\n        [ref, handler]\n    );\n}","import React, {useState, useEffect} from 'react';\nimport axios from \"axios\";\nimport Dropdown from \"../components/Dropdown\";\n\nconst API_RUL = \"https://api.apify.com/v2/key-value-stores/3Po6TV7wTht4vIEid/records/LATEST?disableRedirect=true\"\n\n\nconst Root = () => {\n    const [covidData, setCovidData] = useState(JSON.parse(sessionStorage.getItem('covidData')) || null);\n    const [chosenRegion,setRegion] = useState(null);\n\n    useEffect(() => {\n        if (!sessionStorage.getItem('covidData')) {\n            axios.get(API_RUL)\n                .then(({data}) => {\n                    console.log(data)\n                    sessionStorage.setItem('covidData', JSON.stringify(data))\n                    setCovidData(data);\n                })\n                .catch(error => console.log(error))\n        }\n    }, [chosenRegion])\n    let [dataForChosenRegion] = chosenRegion ? covidData.infectedByRegion.filter(el => el.region === chosenRegion) : [];\n    return (\n        <div className={'pt-16 max-w-6xl p-6 mx-auto'}>\n            <h1 className={'block text-gray-800 font-semibold text-3xl mt-2 text-center'}>Statystyki</h1>\n            {covidData &&\n            <>\n                <section className={'py-3'}>\n                    <p className={'text-gray-800  text-lg py-3'}>Dane na\n                        dzień {covidData.lastUpdatedAtApify.substring(0, 10)}</p>\n                    <p className={'text-gray-800  text-lg py-3'}>Zakażonych: {covidData.infected} </p>\n                    <p className={'text-gray-800  text-lg py-3'}>Zakażonych dzisiaj: {covidData.infectedByRegion[0].infectedCount} </p>\n                    <p className={'text-gray-800  text-lg py-3'}>Zmarłych: {covidData.deceased} </p>\n                    <p className={'text-gray-800  text-lg py-3'}>Zmarłych dzisiaj: {covidData.infectedByRegion[0].deceasedCount} </p>\n                </section>\n                <section>\n                    <Dropdown infectedByRegion={covidData.infectedByRegion} setRegion={setRegion}/>\n                    {chosenRegion && <>\n                        <p>Dane dla {chosenRegion}go:</p>\n                        <p>Zakażonych: {dataForChosenRegion?.infectedCount}</p>\n                        <p>Zmarłych: {dataForChosenRegion?.deceasedCount}</p>\n                    </>}\n\n                </section>\n            </>}\n        </div>\n    );\n};\n\nexport default Root;","import React from \"react\";\nimport {NavLink, Link} from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\n\nexport default function Navbar({ fixed }) {\n    const [navbarOpen, setNavbarOpen] = React.useState(false);\n    return (\n        <>\n            <nav className=\"z-100 fixed w-full flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg bg-red-500\">\n                <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\n                    <div className=\"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start\">\n                        <Link to=\"/\"\n                            className=\"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white\"\n                        >\n                            Covid app\n                        </Link>\n                        <button\n                            className=\"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\n                            type=\"button\"\n                            onClick={() => setNavbarOpen(!navbarOpen)}\n                        >\n                            <FontAwesomeIcon icon={faBars} />\n                        </button>\n                    </div>\n                    <div\n                        className={\n                            \"lg:flex flex-grow items-center\" +\n                            (navbarOpen ? \" flex\" : \" hidden\")\n                        }\n                        id=\"example-navbar-danger\"\n                    >\n                        <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\n                            <li className=\"nav-item\" onClick={()=>setNavbarOpen(false)}>\n                                <NavLink exact activeClassName=\"selected\" to=\"/\" className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75\">Strona główna</NavLink>\n                            </li>\n                            <li className=\"nav-item\" onClick={()=>setNavbarOpen(false)}>\n                                <NavLink exact activeClassName=\"selected\" to=\"/news\" className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75\">News</NavLink>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n        </>\n    );\n}","import React from 'react';\n\nconst Article = ({title,imageUrl,imageAlt,content}) => {\n    return (\n        <article className='max-w-3xl mx-auto overflow-hidden bg-white shadow-md rounded-lg mb-12'>\n            <img src={imageUrl} className={'w-full h-64 object-cover'} alt={imageAlt}/>\n            <div className={'p-6'}>\n                <h2 className={'block text-gray-800 font-semibold text-2xl mt-2'}>{title}</h2>\n                <p>{content}</p>\n            </div>\n        </article>\n    );\n};\n\nexport default Article;\n","import React, {useEffect,useState} from 'react';\nimport Article from \"../components/Article\";\n\nconst token = 'c7b62db4d6f75f5dbcb5764fd61587';\nconst query = `\n                {\n                allArticles{\n                    title\n                    content\n                    id\n                    image{\n                        url\n                        alt\n                        }\n                    }\n                }\n                `;\n\n\nconst News = () => {\n    const [articles, setArticles] = useState([]);\n\n    useEffect(() => {\n        fetch('https://graphql.datocms.com/', {\n            method: 'POST',\n            headers: {\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n                query,\n            }),\n        })\n            .then(res => res.json())\n            .then(({data}) => setArticles(data.allArticles))\n            .catch(err => console.log(err))\n    },[])\n\n\n    return (\n        <div className={'p-3 pt-16'}>\n            <h1 className={'text-center font-semibold text-2xl text-red-500 p-4'}>Artykuły</h1>\n            {articles?.length ? articles.map(({id,title,image,content})=>(\n                <Article key={id} title={title} imageUrl={image.url} content={content} imageAlt={image.alt}/>\n            )): null}\n\n        </div>\n    );\n};\n\nexport default News;\n","import './App.css';\nimport Root from \"./views/Root\";\nimport Navigation from \"./components/Navigation\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport News from \"./views/News\";\n\nfunction App() {\n  return (\n    <Router>\n      <Navigation/>\n        <Switch>\n            <Route path=\"/news\">\n                <News/>\n            </Route>\n            <Route path=\"/\">\n                <Root />\n            </Route>\n        </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}