(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),l=n(28),i=n.n(l),r=(n(38),n(39),n(9)),o=n(29),d=n.n(o),x=function(e){var t,n,a=e.infectedByRegion,l=e.setRegion,i=Object(s.useState)(!1),o=Object(r.a)(i,2),d=o[0],x=o[1],j=Object(s.useState)(null),u=Object(r.a)(j,2),b=u[0],m=u[1],g=Object(s.useRef)(null);return t=g,n=function(){return x(!1)},Object(s.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]),Object(c.jsx)("div",{className:"py-3 z-0 flex justify-center",ref:g,children:Object(c.jsxs)("div",{className:"dropdown inline-block relative ",children:[Object(c.jsxs)("button",{className:"bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded inline-flex items-center ",onClick:function(){return x(!d)},children:[Object(c.jsx)("span",{className:"mr-1",children:b||"Wojew\xf3dztwo"}),Object(c.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(c.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),Object(c.jsx)("ul",{className:" h-40 overflow-y-scroll dropdown-menu min-w-max absolute rounded text-gray-700 mt-1 ".concat(d?"":"hidden"),children:a.map((function(e,t){return 0!==t?Object(c.jsx)("li",{className:"",onClick:function(){m(e.region),x(!1),l(e.region)},children:Object(c.jsx)("span",{className:"bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap",children:e.region})},e.region):null}))})]})})},j=function(){var e=Object(s.useState)(JSON.parse(sessionStorage.getItem("covidData"))||null),t=Object(r.a)(e,2),n=t[0],a=t[1],l=Object(s.useState)(null),i=Object(r.a)(l,2),o=i[0],j=i[1];Object(s.useEffect)((function(){sessionStorage.getItem("covidData")||d.a.get("https://api.apify.com/v2/key-value-stores/3Po6TV7wTht4vIEid/records/LATEST?disableRedirect=true").then((function(e){var t=e.data;console.log(t),sessionStorage.setItem("covidData",JSON.stringify(t)),a(t)})).catch((function(e){return console.log(e)}))}),[o]);var u=o?n.infectedByRegion.filter((function(e){return e.region===o})):[],b=Object(r.a)(u,1)[0];return Object(c.jsxs)("div",{className:"pt-16 max-w-6xl p-6 mx-auto",children:[Object(c.jsx)("h1",{className:"block text-gray-800 font-semibold text-3xl mt-3 text-center",children:"Koronawirus - dzienne statystki"}),Object(c.jsx)("h2",{className:"block text-gray-800 font-semibold text-3xl mt-2 text-center",children:"Dane dla Polski"}),n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("section",{className:"py-3",children:[Object(c.jsxs)("h3",{className:"text-red-500  text-lg py-3 mt-16 text-center",children:["Dane na dzie\u0144 ",n.lastUpdatedAtApify.substring(0,10)]}),Object(c.jsxs)("div",{className:"py-3 grid grid-cols-2 justify-items-start items-center mx-auto bg-gray-200 p-5 grid-section",style:{maxWidth:"50%"},children:[Object(c.jsx)("p",{className:"text-gray-800  w-full text-lg py-3 ",children:"Zaka\u017conych:"}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:n.infected}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zaka\u017conych dzisiaj: "}),Object(c.jsxs)("p",{className:"text-gray-800 w-full text-lg py-3",children:[n.infectedByRegion[0].infectedCount," "]}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zmar\u0142ych:  "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:n.deceased}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zmar\u0142ych dzisiaj: "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:n.infectedByRegion[0].deceasedCount})]})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("p",{className:"text-gray-500  text-lg py-3 mt-8 text-center",children:"Wybierz wojew\xf3dztwo"}),Object(c.jsx)(x,{infectedByRegion:n.infectedByRegion,setRegion:j}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{className:"text-center py-3",children:["Dane dla ",o,"go:"]}),Object(c.jsxs)("div",{className:"py-3 grid grid-cols-2 justify-items-start items-center mx-auto bg-gray-200 p-5 grid-section2",style:{maxWidth:"50%"},children:[Object(c.jsx)("p",{className:"text-gray-800  w-full text-lg py-3 ",children:"Zaka\u017conych: "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:null===b||void 0===b?void 0:b.infectedCount}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zmar\u0142ych:  "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:null===b||void 0===b?void 0:b.deceasedCount})]})]})]})]})]})},u=n(11),b=n(30),m=n(32),g=n.p+"static/media/logo.f6217c79.png";function h(e){e.fixed;var t=a.a.useState(!1),n=Object(r.a)(t,2),s=n[0],l=n[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"z-100 fixed w-full flex flex-wrap items-center justify-between px-2 py-1 navbar-expand-lg bg-gray-800",children:Object(c.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(c.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(c.jsx)(u.b,{to:"/",className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white",children:Object(c.jsx)("img",{src:g,style:{width:"100%",maxWidth:"40px"},alt:"logo"})}),Object(c.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return l(!s)},children:Object(c.jsx)(b.a,{icon:m.a})})]}),Object(c.jsx)("div",{className:"lg:flex flex-grow items-center"+(s?" flex":" hidden"),id:"example-navbar-danger",children:Object(c.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(c.jsx)("li",{className:"nav-item",onClick:function(){return l(!1)},children:Object(c.jsx)(u.c,{exact:!0,activeClassName:"selected",to:"/",className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",children:"Strona g\u0142\xf3wna"})}),Object(c.jsx)("li",{className:"nav-item",onClick:function(){return l(!1)},children:Object(c.jsx)(u.c,{exact:!0,activeClassName:"selected",to:"/news",className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",children:"News"})})]})})]})})})}var f=n(3),p=function(e){var t=e.title,n=e.imageUrl,s=e.imageAlt,a=e.content;return Object(c.jsxs)("article",{className:"max-w-3xl mx-auto overflow-hidden bg-white shadow-md rounded-lg mb-12",children:[Object(c.jsx)("img",{src:n,className:"w-full h-64 object-cover",alt:s}),Object(c.jsxs)("div",{className:"p-6",children:[Object(c.jsx)("h2",{className:"block text-gray-800 font-semibold text-2xl mt-2",children:t}),Object(c.jsx)("p",{children:a})]})]})},y=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){fetch("https://graphql.datocms.com/",{method:"POST",headers:{Authorization:"Bearer ".concat("c7b62db4d6f75f5dbcb5764fd61587")},body:JSON.stringify({query:"\n                {\n                allArticles{\n                    title\n                    content\n                    id\n                    image{\n                        url\n                        alt\n                        }\n                    }\n                }\n                "})}).then((function(e){return e.json()})).then((function(e){var t=e.data;return a(t.allArticles)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsxs)("div",{className:"p-3 pt-16",children:[Object(c.jsx)("h1",{className:"text-center font-semibold text-2xl text-red-500 p-4",children:"Artyku\u0142y"}),(null===n||void 0===n?void 0:n.length)?n.map((function(e){var t=e.id,n=e.title,s=e.image,a=e.content;return Object(c.jsx)(p,{title:n,imageUrl:s.url,content:a,imageAlt:s.alt},t)})):null]})};var O=function(){return Object(c.jsxs)(u.a,{children:[Object(c.jsx)(h,{}),Object(c.jsxs)(f.c,{children:[Object(c.jsx)(f.a,{path:"/news",children:Object(c.jsx)(y,{})}),Object(c.jsx)(f.a,{path:"/",children:Object(c.jsx)(j,{})})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),s(e),a(e),l(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),v()}},[[63,1,2]]]);
//# sourceMappingURL=main.b272ac8d.chunk.js.map