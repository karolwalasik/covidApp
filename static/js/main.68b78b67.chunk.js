(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),i=n.n(s),a=n(28),l=n.n(a),o=(n(38),n(39),n(9)),r=n(29),d=n.n(r),u=function(e){var t,n,i=e.infectedByRegion,a=e.setRegion,l=Object(s.useState)(!1),r=Object(o.a)(l,2),d=r[0],u=r[1],x=Object(s.useState)(null),j=Object(o.a)(x,2),g=j[0],b=j[1],m=Object(s.useRef)(null);return t=m,n=function(){return u(!1)},Object(s.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]),Object(c.jsx)("div",{className:"py-3 z-0 flex justify-center",ref:m,children:Object(c.jsxs)("div",{className:"dropdown inline-block relative ",children:[Object(c.jsxs)("button",{className:"bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded inline-flex items-center ",onClick:function(){return u(!d)},children:[Object(c.jsx)("span",{className:"mr-1",children:g||"Wojew\xf3dztwo"}),Object(c.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(c.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),Object(c.jsx)("ul",{className:" h-40 overflow-y-scroll dropdown-menu min-w-max absolute rounded text-gray-700 mt-1 ".concat(d?"":"hidden"),children:i.map((function(e,t){return 0!==t?Object(c.jsx)("li",{className:"",onClick:function(){b(e.region),u(!1),a(e.region)},children:Object(c.jsx)("span",{className:"bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap",children:e.region})},e.region):null}))})]})})},x={deceased:38712,infected:206165,infectedByRegion:[{region:"Caly kraj",infectedCount:6053,deceasedCount:368},{region:"mazowieckie",infectedCount:961,deceasedCount:64},{region:"wielkopolskie",infectedCount:603,deceasedCount:25},{region:"kujawsko-pomorskie",infectedCount:557,deceasedCount:77},{region:"\u015bl\u0105skie",infectedCount:542,deceasedCount:23},{region:"pomorskie",infectedCount:507,deceasedCount:43},{region:"warmi\u0144sko-mazurskie",infectedCount:394,deceasedCount:14},{region:"\u0142\xf3dzkie",infectedCount:353,deceasedCount:19},{region:"zachodniopomorskie",infectedCount:328,deceasedCount:14},{region:"dolno\u015bl\u0105skie",infectedCount:313,deceasedCount:19},{region:"ma\u0142opolskie",infectedCount:266,deceasedCount:9},{region:"lubelskie",infectedCount:264,deceasedCount:15},{region:"podlaskie",infectedCount:219,deceasedCount:16},{region:"podkarpackie",infectedCount:206,deceasedCount:8},{region:"lubuskie",infectedCount:183,deceasedCount:7},{region:"\u015bwi\u0119tokrzyskie",infectedCount:149,deceasedCount:14},{region:"opolskie",infectedCount:96,deceasedCount:1}],lastUpdatedAtApify:"2021-02-05"},j=function(){var e=Object(s.useState)(JSON.parse(sessionStorage.getItem("covidData"))||null),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(null),l=Object(o.a)(a,2),r=l[0],j=l[1];Object(s.useEffect)((function(){sessionStorage.getItem("covidData")||d.a.get("https://api.apify.com/v2/key-value-stores/3Po6TV7wTht4vIEid/records/LATEST?disableRedirect=true").then((function(e){var t=e.data;console.log(t),sessionStorage.setItem("covidData",JSON.stringify(t)),i(t)})).catch((function(e){return console.log(e)}))}),[r]);var g=r?x.infectedByRegion.filter((function(e){return e.region===r})):[],b=Object(o.a)(g,1)[0];return Object(c.jsxs)("div",{className:"pt-16 max-w-6xl p-6 mx-auto",children:[Object(c.jsx)("h1",{className:"block text-gray-800 font-semibold text-3xl mt-3 text-center",children:"Koronawirus - dzienne statystki"}),Object(c.jsx)("h2",{className:"block text-gray-800 font-semibold text-3xl mt-2 text-center",children:"Dane dla Polski"}),n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("section",{className:"py-3",children:[Object(c.jsxs)("h3",{className:"text-red-500  text-lg py-3 mt-16 text-center",children:["Dane na dzie\u0144 ",x.lastUpdatedAtApify.substring(0,10)]}),Object(c.jsxs)("div",{className:"py-3 grid grid-cols-2 justify-items-start items-center mx-auto bg-gray-200 p-5 grid-section",style:{maxWidth:"50%"},children:[Object(c.jsx)("p",{className:"text-gray-800  w-full text-lg py-3 ",children:"Zaka\u017conych:"}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:x.infected}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zaka\u017conych dzisiaj: "}),Object(c.jsxs)("p",{className:"text-gray-800 w-full text-lg py-3",children:[x.infectedByRegion[0].infectedCount," "]}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zmar\u0142ych:  "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:x.deceased}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zmar\u0142ych dzisiaj: "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:x.infectedByRegion[0].deceasedCount})]})]}),Object(c.jsxs)("section",{children:[Object(c.jsx)("p",{className:"text-gray-500  text-lg py-3 mt-8 text-center",children:"Wybierz wojew\xf3dztwo"}),Object(c.jsx)(u,{infectedByRegion:x.infectedByRegion,setRegion:j}),r&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("p",{className:"text-center py-3",children:["Dane dla ",r,"go:"]}),Object(c.jsxs)("div",{className:"py-3 grid grid-cols-2 justify-items-start items-center mx-auto bg-gray-200 p-5 grid-section2",style:{maxWidth:"50%"},children:[Object(c.jsx)("p",{className:"text-gray-800  w-full text-lg py-3 ",children:"Zaka\u017conych: "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:null===b||void 0===b?void 0:b.infectedCount}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:"Zmar\u0142ych:  "}),Object(c.jsx)("p",{className:"text-gray-800 w-full text-lg py-3",children:null===b||void 0===b?void 0:b.deceasedCount})]})]})]})]})]})},g=n(11),b=n(30),m=n(32),f=n.p+"static/media/logo.f6217c79.png";function h(e){e.fixed;var t=i.a.useState(!1),n=Object(o.a)(t,2),s=n[0],a=n[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"z-100 fixed w-full flex flex-wrap items-center justify-between px-2 py-1 navbar-expand-lg bg-gray-800",children:Object(c.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(c.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(c.jsx)(g.b,{to:"/",className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white",children:Object(c.jsx)("img",{src:f,style:{width:"100%",maxWidth:"40px"},alt:"logo"})}),Object(c.jsx)("button",{className:"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return a(!s)},children:Object(c.jsx)(b.a,{icon:m.a})})]}),Object(c.jsx)("div",{className:"lg:flex flex-grow items-center"+(s?" flex":" hidden"),id:"example-navbar-danger",children:Object(c.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(c.jsx)("li",{className:"nav-item",onClick:function(){return a(!1)},children:Object(c.jsx)(g.c,{exact:!0,activeClassName:"selected",to:"/",className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",children:"Strona g\u0142\xf3wna"})}),Object(c.jsx)("li",{className:"nav-item",onClick:function(){return a(!1)},children:Object(c.jsx)(g.c,{exact:!0,activeClassName:"selected",to:"/news",className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75",children:"News"})})]})})]})})})}var p=n(3),y=function(e){var t=e.title,n=e.imageUrl,s=e.imageAlt,i=e.content;return Object(c.jsxs)("article",{className:"max-w-3xl mx-auto overflow-hidden bg-white shadow-md rounded-lg mb-12",children:[Object(c.jsx)("img",{src:n,className:"w-full h-64 object-cover",alt:s}),Object(c.jsxs)("div",{className:"p-6",children:[Object(c.jsx)("h2",{className:"block text-gray-800 font-semibold text-2xl mt-2",children:t}),Object(c.jsx)("p",{children:i})]})]})},O=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1];return Object(s.useEffect)((function(){fetch("https://graphql.datocms.com/",{method:"POST",headers:{Authorization:"Bearer ".concat("c7b62db4d6f75f5dbcb5764fd61587")},body:JSON.stringify({query:"\n                {\n                allArticles{\n                    title\n                    content\n                    id\n                    image{\n                        url\n                        alt\n                        }\n                    }\n                }\n                "})}).then((function(e){return e.json()})).then((function(e){var t=e.data;return i(t.allArticles)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsxs)("div",{className:"p-3 pt-16",children:[Object(c.jsx)("h1",{className:"text-center font-semibold text-2xl text-red-500 p-4",children:"Artyku\u0142y"}),(null===n||void 0===n?void 0:n.length)?n.map((function(e){var t=e.id,n=e.title,s=e.image,i=e.content;return Object(c.jsx)(y,{title:n,imageUrl:s.url,content:i,imageAlt:s.alt},t)})):null]})};var w=function(){return Object(c.jsxs)(g.a,{children:[Object(c.jsx)(h,{}),Object(c.jsxs)(p.c,{children:[Object(c.jsx)(p.a,{path:"/news",children:Object(c.jsx)(O,{})}),Object(c.jsx)(p.a,{path:"/",children:Object(c.jsx)(j,{})})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))};l.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),v()}},[[63,1,2]]]);
//# sourceMappingURL=main.68b78b67.chunk.js.map