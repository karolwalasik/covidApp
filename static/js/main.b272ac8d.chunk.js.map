{"version":3,"sources":["components/Dropdown.js","hooks/useOnOutsideClick.js","views/Root.js","assets/logo.png","components/Navigation.js","components/Article.js","views/News.js","App.js","reportWebVitals.js","index.js"],"names":["Dropdown","ref","handler","infectedByRegion","setRegion","useState","isDropdownExpanded","toggleDropdown","chosenRegion","setDropdownRegion","dropdownRef","useRef","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","className","onClick","xmlns","viewBox","d","map","el","index","region","Root","JSON","parse","sessionStorage","getItem","covidData","setCovidData","axios","get","then","data","console","log","setItem","stringify","catch","error","filter","dataForChosenRegion","lastUpdatedAtApify","substring","style","maxWidth","infected","infectedCount","deceased","deceasedCount","Navbar","fixed","React","navbarOpen","setNavbarOpen","to","src","logo","width","alt","type","icon","faBars","id","exact","activeClassName","Article","title","imageUrl","imageAlt","content","News","articles","setArticles","fetch","method","headers","body","query","res","json","allArticles","err","length","image","url","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b272ac8d.chunk.js","sourcesContent":["import React, {useState,useRef} from 'react';\nimport {useOnClickOutside} from \"../hooks/useOnOutsideClick\";\n\nconst Dropdown = ({infectedByRegion,setRegion}) => {\n    const [isDropdownExpanded,toggleDropdown] = useState(false);\n    const [chosenRegion,setDropdownRegion] = useState(null);\n    const dropdownRef = useRef(null);\n    useOnClickOutside(dropdownRef, () => toggleDropdown(false));\n\n    return (\n        <div className=\"py-3 z-0 flex justify-center\" ref={dropdownRef}>\n\n            <div className=\"dropdown inline-block relative \">\n                <button  className=\"bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded inline-flex items-center \" onClick={()=>toggleDropdown(!isDropdownExpanded)}>\n                    <span className=\"mr-1\">{chosenRegion ? chosenRegion : 'Województwo'}</span>\n                    <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/>\n                    </svg>\n                </button>\n                <ul className={` h-40 overflow-y-scroll dropdown-menu min-w-max absolute rounded text-gray-700 mt-1 ${isDropdownExpanded ? '' : 'hidden'}`}>\n                    {infectedByRegion.map((el,index)=>{\n                        if(index!==0){\n                            return <li key={el.region} className=\"\" onClick={()=>{setDropdownRegion(el.region);toggleDropdown(false);setRegion(el.region)}}><span\n                                className=\"bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap\"\n                            >{el.region}</span></li>\n                        }\n                        return null;\n                    })}\n                </ul>\n            </div>\n\n        </div>\n    );\n};\n\nexport default Dropdown;\n","\nimport  { useEffect } from 'react';\n\nexport const useOnClickOutside = (ref, handler) => {\n    useEffect(\n        () => {\n            const listener = (event) => {\n\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n\n                handler(event);\n            };\n\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        },\n\n        [ref, handler]\n    );\n}","import React, {useState, useEffect} from 'react';\nimport axios from \"axios\";\nimport Dropdown from \"../components/Dropdown\";\n\nconst API_RUL = \"https://api.apify.com/v2/key-value-stores/3Po6TV7wTht4vIEid/records/LATEST?disableRedirect=true\"\n\n\nconst Root = () => {\n    const [covidData, setCovidData] = useState(JSON.parse(sessionStorage.getItem('covidData')) || null);\n    const [chosenRegion,setRegion] = useState(null);\n\n    useEffect(() => {\n        if (!sessionStorage.getItem('covidData')) {\n            axios.get(API_RUL)\n                .then(({data}) => {\n                    console.log(data)\n                    sessionStorage.setItem('covidData', JSON.stringify(data))\n                    setCovidData(data);\n                })\n                .catch(error => console.log(error))\n        }\n    }, [chosenRegion])\n    let [dataForChosenRegion] = chosenRegion ? covidData.infectedByRegion.filter(el => el.region === chosenRegion) : [];\n    return (\n        <div className={'pt-16 max-w-6xl p-6 mx-auto'}>\n            <h1 className={'block text-gray-800 font-semibold text-3xl mt-3 text-center'}>Koronawirus - dzienne statystki</h1>\n            <h2 className={'block text-gray-800 font-semibold text-3xl mt-2 text-center'}>Dane dla Polski</h2>\n            {covidData &&\n            <>\n                <section className={'py-3'}>\n                    <h3 className={'text-red-500  text-lg py-3 mt-16 text-center'}>Dane na\n                        dzień {covidData.lastUpdatedAtApify.substring(0, 10)}</h3>\n                    <div className={'py-3 grid grid-cols-2 justify-items-start items-center mx-auto bg-gray-200 p-5 grid-section'} style={{ maxWidth: '50%'}}>\n                        <p className={'text-gray-800  w-full text-lg py-3 '}>Zakażonych:</p>\n                        <p className={'text-gray-800 w-full text-lg py-3'}>{covidData.infected}</p>\n                    <p className={'text-gray-800 w-full text-lg py-3'}>Zakażonych dzisiaj: </p><p className={'text-gray-800 w-full text-lg py-3'}>{covidData.infectedByRegion[0].infectedCount} </p>\n                    <p className={'text-gray-800 w-full text-lg py-3'}>Zmarłych:  </p><p className={'text-gray-800 w-full text-lg py-3'}>{covidData.deceased}</p>\n                    <p className={'text-gray-800 w-full text-lg py-3'}>Zmarłych dzisiaj: </p><p className={'text-gray-800 w-full text-lg py-3'}>{covidData.infectedByRegion[0].deceasedCount}</p>\n                    </div>\n                </section>\n                <section>\n                    <p className={'text-gray-500  text-lg py-3 mt-8 text-center'}>Wybierz województwo</p>\n                    <Dropdown infectedByRegion={covidData.infectedByRegion} setRegion={setRegion}/>\n                    {chosenRegion && <>\n                        <p className={'text-center py-3'}>Dane dla {chosenRegion}go:</p>\n                        <div className={'py-3 grid grid-cols-2 justify-items-start items-center mx-auto bg-gray-200 p-5 grid-section2'} style={{ maxWidth: '50%'}}>\n                            <p className={'text-gray-800  w-full text-lg py-3 '}>Zakażonych: </p>\n                            <p className={'text-gray-800 w-full text-lg py-3'}>{dataForChosenRegion?.infectedCount}</p>\n                            <p className={'text-gray-800 w-full text-lg py-3'}>Zmarłych:  </p><p className={'text-gray-800 w-full text-lg py-3'}>{dataForChosenRegion?.deceasedCount}</p>\n                        </div>\n\n                    </>}\n\n                </section>\n            </>}\n        </div>\n    );\n};\n\nexport default Root;","export default __webpack_public_path__ + \"static/media/logo.f6217c79.png\";","import React from \"react\";\nimport {NavLink, Link} from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\nimport logo from '../assets/logo.png'\n\n\nexport default function Navbar({ fixed }) {\n    const [navbarOpen, setNavbarOpen] = React.useState(false);\n    return (\n        <>\n            <nav className=\"z-100 fixed w-full flex flex-wrap items-center justify-between px-2 py-1 navbar-expand-lg bg-gray-800\">\n                <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\n                    <div className=\"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start\">\n                        <Link to=\"/\"\n                            className=\"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white\"\n                        >\n                            <img src={logo} style={{width:'100%',maxWidth:'40px'}} alt={'logo'}/>\n                        </Link>\n                        <button\n                            className=\"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\n                            type=\"button\"\n                            onClick={() => setNavbarOpen(!navbarOpen)}\n                        >\n                            <FontAwesomeIcon icon={faBars} />\n                        </button>\n                    </div>\n                    <div\n                        className={\n                            \"lg:flex flex-grow items-center\" +\n                            (navbarOpen ? \" flex\" : \" hidden\")\n                        }\n                        id=\"example-navbar-danger\"\n                    >\n                        <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\n                            <li className=\"nav-item\" onClick={()=>setNavbarOpen(false)}>\n                                <NavLink exact activeClassName=\"selected\" to=\"/\" className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75\">Strona główna</NavLink>\n                            </li>\n                            <li className=\"nav-item\" onClick={()=>setNavbarOpen(false)}>\n                                <NavLink exact activeClassName=\"selected\" to=\"/news\" className=\"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-white hover:opacity-75\">News</NavLink>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </nav>\n        </>\n    );\n}","import React from 'react';\n\nconst Article = ({title,imageUrl,imageAlt,content}) => {\n    return (\n        <article className='max-w-3xl mx-auto overflow-hidden bg-white shadow-md rounded-lg mb-12'>\n            <img src={imageUrl} className={'w-full h-64 object-cover'} alt={imageAlt}/>\n            <div className={'p-6'}>\n                <h2 className={'block text-gray-800 font-semibold text-2xl mt-2'}>{title}</h2>\n                <p>{content}</p>\n            </div>\n        </article>\n    );\n};\n\nexport default Article;\n","import React, {useEffect,useState} from 'react';\nimport Article from \"../components/Article\";\n\nconst token = 'c7b62db4d6f75f5dbcb5764fd61587';\nconst query = `\n                {\n                allArticles{\n                    title\n                    content\n                    id\n                    image{\n                        url\n                        alt\n                        }\n                    }\n                }\n                `;\n\n\nconst News = () => {\n    const [articles, setArticles] = useState([]);\n\n    useEffect(() => {\n        fetch('https://graphql.datocms.com/', {\n            method: 'POST',\n            headers: {\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n                query,\n            }),\n        })\n            .then(res => res.json())\n            .then(({data}) => setArticles(data.allArticles))\n            .catch(err => console.log(err))\n    },[])\n\n\n    return (\n        <div className={'p-3 pt-16'}>\n            <h1 className={'text-center font-semibold text-2xl text-red-500 p-4'}>Artykuły</h1>\n            {articles?.length ? articles.map(({id,title,image,content})=>(\n                <Article key={id} title={title} imageUrl={image.url} content={content} imageAlt={image.alt}/>\n            )): null}\n\n        </div>\n    );\n};\n\nexport default News;\n","import './App.css';\nimport Root from \"./views/Root\";\nimport Navigation from \"./components/Navigation\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport News from \"./views/News\";\n\nfunction App() {\n  return (\n    <Router>\n      <Navigation/>\n        <Switch>\n            <Route path=\"/news\">\n                <News/>\n            </Route>\n            <Route path=\"/\">\n                <Root />\n            </Route>\n        </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}